@model KinderFirst.Models.GalleryItemView
@Styles.Render("~/Content/jcrop")


<div class="modal-body">
    <div class="row">
        <div class="col-lg-6 col-md-6 col-sm-6 col-xs-6 toppadding">
            @using (Html.BeginForm("ProcessForm", "Pictures", FormMethod.Post, new { enctype = "multipart/form-data" }))
            {

                <div class="form-horizontal">
                    
                    @Html.ValidationSummary(true)
                    <div class="form-group">
                        @Html.LabelFor(model => model.FirstName, new { @class = "control-label col-md-2" })
                        <div class="col-md-10">
                            @Html.EditorFor(model => model.FirstName)
                            @Html.ValidationMessageFor(model => model.FirstName)
                        </div>
                    </div>
                    <div class="form-group">
                        @Html.LabelFor(model => model.LastName, new { @class = "control-label col-md-2" })
                        <div class="col-md-10">
                            @Html.EditorFor(model => model.LastName)
                            @Html.ValidationMessageFor(model => model.LastName)
                        </div>
                    </div>
                    <div class="form-group">
                        @Html.LabelFor(model => model.Mail, new { @class = "control-label col-md-2" })
                        <div class="col-md-10">
                            @Html.EditorFor(model => model.Mail)
                            @Html.ValidationMessageFor(model => model.Mail)
                        </div>
                    </div>
                    <div class="form-group">
                        @Html.LabelFor(model => model.Phone, new { @class = "control-label col-md-2" })
                        <div class="col-md-10">
                            @Html.EditorFor(model => model.Phone, new { htmlAttributes = new { placeholder = "Only digits min 4 max 10" } })
                            @Html.ValidationMessageFor(model => model.Phone)
                        </div>
                    </div>
                    <div class="form-group">
                        @Html.HiddenFor(model => model.PicHeight, new { id = "picHeight" })
                        @Html.HiddenFor(model => model.PicWidth, new { id = "picWidth" })
                        @Html.HiddenFor(model => model.PicTop, new { id = "picTop" })
                        @Html.HiddenFor(model => model.PicLeft, new { id = "picLeft" })
                        @Html.HiddenFor(model => model.PicRight, new { id = "picRight" })
                        @Html.HiddenFor(model => model.PicBottom, new { id = "picBottom" })
                        @Html.HiddenFor(model => model.PicName, new { id = "picName" })
                    </div>

                </div>

                <div class="row">
                    <div class="col-md-4 col-md-offset-4">
                        <button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
                        <button type="submit" id="approve-btn" class="btn btn-danger">Save</button>
                    </div>
                </div>
                Html.EnableUnobtrusiveJavaScript(false);
            }
            </div>
        <div class="col-lg-6 col-md-6 col-sm-6 col-xs-6 toppadding">
            <section id="avatar-upload-box">
                @using (Ajax.BeginForm("Fun", "Picures",
new AjaxOptions() { HttpMethod = "POST" },
new { enctype = "multipart/form-data", id = "avatar-upload-form"}))
                { 
                    @Html.AntiForgeryToken()
                    <input type="file" name="files" /><span id="avatar-message" >Your picture exceeds 2 MB limit.Plaese resize.</span><br>
                    <div class="upload-file-notice">Maximum Size: <span id="avatar-max-size"></span> MB</div>
                }
                <div class="upload-progress col-md-6 hidden">
                    <div class="upload-percent-value pull-left">0%</div>
                    <div class="upload-percent-bar pull-left"></div>
                </div>
                <div id="upload-status"></div>
            </section>
            <section id="avatar-crop-box" class="hidden">
                <p>
                    <img src="" id="crop-avatar-target" alt="Uploaded image" />
                    <div id="preview-pane">
                        <div class="preview-container">
                            <img src="" class="jcrop-preview" alt="Preview" />
                        </div>
                    </div>
                </p>

            </section>
            </div>
        </div>

    </div>
@Scripts.Render("~/bundles/jqueryval")
@Scripts.Render("~/bundles/jqueryform")